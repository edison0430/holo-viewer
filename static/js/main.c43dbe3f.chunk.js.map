{"version":3,"sources":["layout/SideNav.js","actions/types.js","apis/holoDev.js","actions/streamActions.js","actions/multiViewActions.js","ui/Tooltip.js","ui/Notification.js","hooks/useMemberMapping.js","multiView/StreamItem.js","multiView/StreamList.js","ui/Modal.js","multiView/ControlItem.js","multiView/ControlModal.js","multiView/control/MediaButton.js","multiView/UrlModal.js","multiView/control/AddLinkButton.js","layout/MultiViewHeader.js","theme/ThemeToggle.js","layout/Header.js","layout/Layout.js","stream/StreamChip.js","stream/StreamItem.js","stream/SkeletonItem.js","stream/StreamList.js","ui/Spin.js","multiView/StreamIframeWrapper.js","multiView/index.js","hooks/useTracking.js","App.js","reportWebVitals.js","reducers/streamReducer.js","reducers/multiViewReducer.js","reducers/index.js","index.js"],"names":["SideNav","open","toggle","ref","useRef","useEffect","handleOutsideClick","event","current","contains","target","window","addEventListener","removeEventListener","className","onClick","to","exact","activeClassName","REQUEST_LIVE_STREAM","RECEIVE_LIVE_STREAM","REQUEST_SCHEDULED_STREAM","RECEIVE_SCHEDULED_STREAM","FETCH_CHANNEL","FETCH_MEMBER","ADD_STREAM_TO_MULTI_VIEW","REMOVE_STREAM_FROM_MULTI_VIEW","CHANGE_STATUS_TO_PLAY","CHANGE_STATUS_TO_PAUSE","CHANGE_STATUS_TO_MUTE","CHANGE_STATUS_TO_UNMUTE","SHOW_CHAT","HIDE_CHAT","axios","create","baseURL","fetchLiveStream","dispatch","a","type","holoDev","get","response","liveStream","data","lives","map","live","status","payload","fetchScheduledStream","scheduledStream","fetchChannel","channel","JSON","parse","sessionStorage","getItem","length","page","hasNextPage","concat","channels","total","setItem","stringify","fetchMember","member","addStreamToMultiView","stream","removeStreamFromMultiView","id","playVideo","pauseVideo","isMobile","test","navigator","userAgent","Tooltip","title","parentNode","tooltipRef","useState","placement","setPlacement","coords","setCoords","rect","getBoundingClientRect","left","x","width","top","y","height","innerWidth","ReactDOM","createPortal","style","document","querySelector","Notification","content","duration","onClose","timer","setTimeout","clearTimeout","getElementById","useMemberMapping","channelId","useSelector","state","streamReducer","members","memberId","find","member_id","StreamItem","isTooltipShown","setIsTooltipShown","isNotificationShown","setIsNotificationShwon","notification","setNotificaton","btnRef","useDispatch","multiViewList","multiViewReducer","channel_id","some","item","toggleStream","onMouseEnter","onMouseLeave","src","avatar","alt","name","StreamList","items","Modal","isOpen","children","onOk","renderFooter","ControlItem","isPlaying","isMuted","isChatShown","unMute","mute","hideChat","showChat","ControlModal","multiViewLength","renderControlList","MediaButton","setIsOpen","prevStatus","UrlModal","url","setUrl","matched","exec","room","placeholder","value","onChange","e","AddLinkButton","MultiViewHeader","ThemeToggle","localStorage","setToggle","documentElement","classList","add","remove","Navigation","setOpen","location","useLocation","prevState","pathname","renderHeader","Layout","props","Header","getDuration","startAt","now","dayjs","diff","format","extend","relativeTime","StreamChip","start_at","setDuration","intervalId","setInterval","clearInterval","locale","href","rel","cover","startTime","timeFromNow","fromNow","renderTimeFromNow","SkeletonItem","renderLoadingSkeleton","Array","fill","index","isLoading","filter","isBefore","Spin","xmlns","viewBox","cx","cy","r","stroke","strokeWidth","d","stateMapping","StreamIframeWrapper","player","setPlayer","isReady","setIsReady","YoutubePlayer","videoId","playerVars","playsinline","listener","on","off","chatRoomIframeSrc","hostname","frameBorder","gridStyle","MultiViewIndex","renderIframeWrapper","useTracking","history","createHashHistory","ReactGA","initialize","unlisten","listen","pageview","App","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","INITAL_STATE","action","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","StrictMode"],"mappings":"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","file":"static/js/main.c43dbe3f.chunk.js","sourcesContent":["import { NavLink } from 'react-router-dom';\nimport { MenuIcon, HomeIcon, ViewGridIcon } from '@heroicons/react/outline';\nimport { useEffect } from 'react';\nimport { useRef } from 'react';\n\nfunction SideNav({ open, toggle }) {\n  const ref = useRef(null);\n\n  useEffect(() => {\n    const handleOutsideClick = (event) => {\n      if (!ref.current.contains(event.target)) {\n        if (!open) return;\n        toggle();\n      }\n    };\n\n    window.addEventListener('click', handleOutsideClick, true);\n\n    return () => window.removeEventListener('click', handleOutsideClick, true);\n  }, [open, toggle]);\n\n  return (\n    <aside\n      ref={ref}\n      className={`fixed top-0 left-0 h-screen w-56 ${\n        !open && '-translate-x-full'\n      } bg-white dark:bg-gray-700 dark:text-gray-100 z-10 transform duration-200`}\n    >\n      <div className=\"h-14 pl-4 mb-2 flex items-center space-x-4\">\n        <button onClick={toggle} className=\"w-6 h-6\">\n          <MenuIcon />\n        </button>\n        <div className=\"text-xl tracking-wide font-bold\">Holo Viewer</div>\n      </div>\n      <nav>\n        <NavLink\n          to=\"/\"\n          exact\n          className=\"py-2 px-4 flex items-center space-x-4 hover:bg-gray-100 dark:hover:bg-gray-500\"\n          activeClassName=\"bg-gray-200 dark:bg-gray-600\"\n          onClick={toggle}\n        >\n          <HomeIcon className=\"h-6 w-6\" />\n          <span>首頁</span>\n        </NavLink>\n        <NavLink\n          to=\"/multi-view\"\n          exact\n          className=\"py-2 px-4 flex items-center space-x-4 hover:bg-gray-100 dark:hover:bg-gray-500\"\n          activeClassName=\"bg-gray-200 dark:bg-gray-600\"\n          onClick={toggle}\n        >\n          <ViewGridIcon className=\"h-6 w-6\" />\n          <span>多窗閱覽</span>\n        </NavLink>\n      </nav>\n    </aside>\n  );\n}\n\nexport default SideNav;\n","// stream\nexport const REQUEST_LIVE_STREAM = 'REQUEST_LIVE_STREAM';\nexport const RECEIVE_LIVE_STREAM = 'RECEIVE_LIVE_STREAM';\nexport const REQUEST_SCHEDULED_STREAM = 'REQUEST_SCHEDULED_STREAM';\nexport const RECEIVE_SCHEDULED_STREAM = 'RECEIVE_SCHEDULED_STREAM';\nexport const FETCH_CHANNEL = 'FETCH_CHANNEL';\nexport const FETCH_MEMBER = 'FETCH_MEMBER';\n\n// multi view\nexport const ADD_STREAM_TO_MULTI_VIEW = 'ADD_STREAM_TO_MULTI_VIEW';\nexport const REMOVE_STREAM_FROM_MULTI_VIEW = 'REMOVE_STREAM_FROM_MULTI_VIEW';\nexport const CHANGE_STATUS_TO_PLAY = 'CHANGE_STATUS_TO_PLAY';\nexport const CHANGE_STATUS_TO_PAUSE = 'CHANGE_STATUS_TO_PAUSE';\nexport const CHANGE_STATUS_TO_MUTE = 'CHANGE_STATUS_TO_MUTE';\nexport const CHANGE_STATUS_TO_UNMUTE = 'CHANGE_STATUS_TO_UNMUTE';\nexport const SHOW_CHAT = 'SHOW_CHAT';\nexport const HIDE_CHAT = 'HIDE_CHAT';\n","import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'https://holo.dev/api/v1',\n});\n\n// export const fetchLiveStream = () => request.get('/lives/current');\n\n// export const fetchScheduledStream = () => request.get('/lives/scheduled');\n","import {\n  REQUEST_LIVE_STREAM,\n  RECEIVE_LIVE_STREAM,\n  REQUEST_SCHEDULED_STREAM,\n  RECEIVE_SCHEDULED_STREAM,\n  FETCH_CHANNEL,\n  FETCH_MEMBER,\n} from './types';\nimport holoDev from '../apis/holoDev';\nimport res from '../response';\nimport scheduledRes from '../scheduledRes';\n\nexport const fetchLiveStream = () => async (dispatch) => {\n  dispatch({\n    type: REQUEST_LIVE_STREAM,\n  });\n\n  const response = await holoDev.get('/lives/current');\n  // const response = res;\n  const liveStream = response.data.lives.map((live) => {\n    return {\n      ...live,\n      status: 'live',\n    };\n  });\n\n  dispatch({\n    type: RECEIVE_LIVE_STREAM,\n    payload: liveStream,\n  });\n};\n\nexport const fetchScheduledStream = () => async (dispatch) => {\n  dispatch({\n    type: REQUEST_SCHEDULED_STREAM,\n  });\n\n  const response = await holoDev.get('/lives/scheduled');\n  // const response = scheduledRes;\n  const scheduledStream = response.data.lives.map((live) => {\n    return {\n      ...live,\n      status: 'scheduled',\n    };\n  });\n\n  dispatch({\n    type: RECEIVE_SCHEDULED_STREAM,\n    payload: scheduledStream,\n  });\n};\n\nexport const fetchChannel = () => async (dispatch) => {\n  let channel = JSON.parse(sessionStorage.getItem('channel')) || [];\n\n  if (channel.length === 0) {\n    let page = 1;\n    let hasNextPage = true;\n    while (hasNextPage) {\n      const response = await holoDev.get(`channels?limit=100&page=${page}`);\n      channel = channel.concat(response.data.channels);\n\n      if (channel.length < response.data.total) {\n        page++;\n      } else {\n        hasNextPage = false;\n      }\n    }\n\n    sessionStorage.setItem('channel', JSON.stringify(channel));\n  }\n\n  dispatch({\n    type: FETCH_CHANNEL,\n    payload: channel,\n  });\n};\n\nexport const fetchMember = () => async (dispatch) => {\n  let member = JSON.parse(sessionStorage.getItem('member')) || [];\n\n  if (member.length === 0) {\n    const response = await holoDev.get('/members');\n    member = response.data;\n    sessionStorage.setItem('member', JSON.stringify(member));\n  }\n\n  dispatch({\n    type: FETCH_MEMBER,\n    payload: member,\n  });\n};\n","import {\n  ADD_STREAM_TO_MULTI_VIEW,\n  REMOVE_STREAM_FROM_MULTI_VIEW,\n  CHANGE_STATUS_TO_PLAY,\n  CHANGE_STATUS_TO_PAUSE,\n  CHANGE_STATUS_TO_MUTE,\n  CHANGE_STATUS_TO_UNMUTE,\n  SHOW_CHAT,\n  HIDE_CHAT,\n} from './types';\n\nexport const addStreamToMultiView = (stream) => {\n  return {\n    type: ADD_STREAM_TO_MULTI_VIEW,\n    payload: stream,\n  };\n};\n\nexport const removeStreamFromMultiView = (id) => {\n  return {\n    type: REMOVE_STREAM_FROM_MULTI_VIEW,\n    payload: id,\n  };\n};\n\nexport const playVideo = (id) => {\n  return {\n    type: CHANGE_STATUS_TO_PLAY,\n    payload: id,\n  };\n};\n\nexport const pauseVideo = (id) => {\n  return {\n    type: CHANGE_STATUS_TO_PAUSE,\n    payload: id,\n  };\n};\n\nexport const mute = (id) => {\n  return {\n    type: CHANGE_STATUS_TO_MUTE,\n    payload: id,\n  };\n};\n\nexport const unMute = (id) => {\n  return {\n    type: CHANGE_STATUS_TO_UNMUTE,\n    payload: id,\n  };\n};\n\nexport const showChat = (id) => {\n  return {\n    type: SHOW_CHAT,\n    payload: id,\n  };\n};\n\nexport const hideChat = (id) => {\n  return {\n    type: HIDE_CHAT,\n    payload: id,\n  };\n};\n","import { useEffect, useState, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst isMobile = (function () {\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n    navigator.userAgent\n  );\n})();\n\nconst Tooltip = ({ title, parentNode }) => {\n  const tooltipRef = useRef();\n  const [placement, setPlacement] = useState('-translate-x-1/2');\n  const [coords, setCoords] = useState({});\n\n  useEffect(() => {\n    const rect = parentNode.current.getBoundingClientRect();\n    setCoords({\n      left: rect.x + rect.width / 2,\n      top: rect.y + rect.height,\n    });\n  }, [parentNode]);\n\n  useEffect(() => {\n    // 檢查 tooltip 長度，避免 tooltip 超出螢幕兩測\n    const rect = tooltipRef.current.getBoundingClientRect();\n    if (coords.left + rect.width / 2 > window.innerWidth) {\n      setPlacement('-translate-x-full');\n    } else if (coords.left - rect.width / 2 < 0) {\n      setPlacement('');\n    }\n  }, [coords.left]);\n\n  return ReactDOM.createPortal(\n    <>\n      <div\n        className={`absolute -top-full -left-full bg-gray-700 text-white text-sm px-3 py-2 rounded-md translate-y-4 ${placement} w-1/2 max-w-max ${\n          isMobile && 'opacity-0'\n        }`}\n        style={{ ...coords }}\n        ref={tooltipRef}\n      >\n        {title}\n      </div>\n    </>,\n    document.querySelector('#tooltip')\n  );\n};\n\nexport default Tooltip;\n","import ReactDOM from 'react-dom';\nimport { useEffect } from 'react';\nimport { XIcon } from '@heroicons/react/outline';\nimport PropTypes from 'prop-types';\n\nconst Notification = ({ title, content, duration = 3000, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => onClose(), duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  return ReactDOM.createPortal(\n    <>\n      <div className=\"fixed top-20 left-1/2 px-6 py-3 rounded-mg -translate-x-1/2 shadow-notification bg-white dark:bg-gray-700 dark:text-gray-100 w-1/2 max-w-sm\">\n        <div className=\"relative\">\n          <h2 className=\"mb-2 pr-6\">{title}</h2>\n          <p className=\"text-sm\">{content}</p>\n          <button\n            className=\"absolute top-0 right-2 w-4 h-4\"\n            onClick={() => onClose()}\n          >\n            <XIcon />\n          </button>\n        </div>\n      </div>\n    </>,\n    document.getElementById('notification')\n  );\n};\n\nNotification.propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  duration: PropTypes.number,\n  onCLose: PropTypes.func,\n};\n\nexport default Notification;\n","import { useSelector } from 'react-redux';\n\nfunction useMemberMapping(channelId) {\n  const channels = useSelector((state) => state.streamReducer.channel);\n  const members = useSelector((state) => state.streamReducer.member);\n\n  const memberId = channels.find(\n    (channel) => channel.id === channelId\n  )?.member_id;\n  const member = members.find((member) => member.id === memberId);\n\n  return member;\n}\n\nexport default useMemberMapping;\n","import { useState, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Tooltip from '../ui/Tooltip';\nimport Notification from '../ui/Notification';\nimport useMemberMapping from '../hooks/useMemberMapping';\nimport { addStreamToMultiView, removeStreamFromMultiView } from '../actions/';\n\nfunction StreamItem({ stream }) {\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n  const [isNotificationShown, setIsNotificationShwon] = useState(false);\n  const [notification, setNotificaton] = useState({ title: '', content: '' });\n  const btnRef = useRef();\n  const dispatch = useDispatch();\n  const multiViewList = useSelector((state) => state.multiViewReducer);\n  const member = useMemberMapping(stream.channel_id);\n\n  const toggleStream = (stream) => {\n    if (multiViewList.some((item) => item.id === stream.id)) {\n      dispatch(removeStreamFromMultiView(stream.id));\n    } else {\n      if (multiViewList.length >= 9) {\n        setNotificaton({ title: '操作失敗', content: '已達列表上限' });\n        setIsNotificationShwon(true);\n        return;\n      }\n      dispatch(addStreamToMultiView(stream));\n    }\n  };\n\n  return (\n    <>\n      <button\n        className={`rounded-full  ${\n          multiViewList.some((item) => item.id === stream.id) &&\n          'ring-4 ring-red-500'\n        }`}\n        onClick={() => toggleStream(stream)}\n        onMouseEnter={() => {\n          setIsTooltipShown(true);\n        }}\n        onMouseLeave={() => {\n          setIsTooltipShown(false);\n        }}\n        ref={btnRef}\n      >\n        <img\n          className=\"w-12 h-12 rounded-full\"\n          src={member?.avatar}\n          alt=\"avatar\"\n        />\n      </button>\n      {isTooltipShown && (\n        <Tooltip\n          title={`${member?.name} - ${stream.title}`}\n          parentNode={btnRef}\n        />\n      )}\n      {isNotificationShown && (\n        <Notification\n          title={notification.title}\n          content={notification.content}\n          onClose={() => setIsNotificationShwon(false)}\n        />\n      )}\n    </>\n  );\n}\n\nexport default StreamItem;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  fetchLiveStream,\n  fetchScheduledStream,\n  fetchChannel,\n  fetchMember,\n} from '../actions/';\nimport StreamItem from './StreamItem';\n\nfunction StreamList() {\n  const dispatch = useDispatch();\n  const liveStream = useSelector((state) => state.streamReducer.liveStream);\n\n  useEffect(() => {\n    dispatch(fetchLiveStream());\n    dispatch(fetchScheduledStream());\n    dispatch(fetchChannel());\n    dispatch(fetchMember());\n  }, [dispatch]);\n\n  const renderLiveStream = () =>\n    liveStream.items.map((stream) => {\n      return <StreamItem stream={stream} key={stream.id} />;\n    });\n\n  return (\n    <div className=\"flex flex-shrink-0 space-x-4  no-scrollbar\">\n      {renderLiveStream()}\n    </div>\n  );\n}\n\nexport default StreamList;\n","import { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = ({ isOpen, toggle, children, title, onOk }) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    const handleOutsideClick = (event) => {\n      if (!ref.current?.contains(event.target)) {\n        if (!isOpen) return;\n\n        toggle(false);\n      }\n    };\n    window.addEventListener('click', handleOutsideClick, true);\n\n    return () => window.removeEventListener('click', handleOutsideClick, true);\n  }, [isOpen, ref, toggle]);\n\n  const renderHeader = () => {\n    return <div className=\"text-2xl\">{title}</div>;\n  };\n\n  const renderFooter = () => {\n    if (onOk) {\n      return (\n        <button\n          className=\"px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-sm\"\n          onClick={() => {\n            onOk();\n            toggle(false);\n          }}\n        >\n          確定\n        </button>\n      );\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return ReactDOM.createPortal(\n    <>\n      <div className=\"fixed top-0 left-0 z-30 w-screen h-screen bg-black opacity-50\"></div>\n      <div className=\"fixed top-0 overflow-y-auto left-0 z-40 w-full h-full m-0\">\n        <div\n          className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10/12 md:w-6/12 lg:w-4/12\"\n          ref={ref}\n        >\n          <div className=\"relative flex flex-col bg-white dark:bg-gray-800 dark:text-gray-100 pointer-events-auto px-7 py-4 space-y-4 rounded\">\n            {/* header */}\n            {title && renderHeader()}\n            {/* content */}\n            <div>{children}</div>\n            {/* footer */}\n            <div className=\"self-end\">{renderFooter()}</div>\n          </div>\n        </div>\n      </div>\n    </>,\n    document.querySelector('#modal')\n  );\n};\n\nexport default Modal;\n","import { useDispatch } from 'react-redux';\nimport {\n  PlayIcon,\n  PauseIcon,\n  TrashIcon,\n  VolumeUpIcon,\n  VolumeOffIcon,\n  ChatAlt2Icon as ShowChatIcon,\n  UserCircleIcon,\n} from '@heroicons/react/outline';\nimport { ChatAlt2Icon as HideChatIcon } from '@heroicons/react/solid';\nimport {\n  playVideo,\n  pauseVideo,\n  mute,\n  unMute,\n  removeStreamFromMultiView,\n  showChat,\n  hideChat,\n} from '../actions';\nimport useMemberMapping from '../hooks/useMemberMapping';\n\nfunction ControlItem({\n  id,\n  channelId,\n  title,\n  isPlaying,\n  isMuted,\n  isChatShown,\n}) {\n  const dispatch = useDispatch();\n  const member = useMemberMapping(channelId);\n\n  const renderAvatar = () => {\n    if (member?.avatar) {\n      return (\n        <img\n          className=\"self-center w-12 h-12 rounded-full mr-3\"\n          src={member?.avatar}\n          alt=\"avatar\"\n        />\n      );\n    } else {\n      return <UserCircleIcon className=\"w-12 h-12 mr-3\" />;\n    }\n  };\n\n  return (\n    <div className=\"flex mb-4\">\n      {renderAvatar()}\n      <div className=\"flex-1 min-w-0 space-y-2\">\n        <p className=\"truncate\">{title}</p>\n        <div className=\"flex justify-center items-center space-x-4\">\n          <button\n            className=\"w-8 h-8 text-gray-500 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-200\"\n            onClick={() =>\n              isPlaying ? dispatch(pauseVideo(id)) : dispatch(playVideo(id))\n            }\n          >\n            {isPlaying ? <PauseIcon /> : <PlayIcon />}\n          </button>\n          <button\n            className=\"w-8 h-8 text-gray-500 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-200\"\n            onClick={() =>\n              isMuted ? dispatch(unMute(id)) : dispatch(mute(id))\n            }\n          >\n            {isMuted ? <VolumeOffIcon /> : <VolumeUpIcon />}\n          </button>\n          <button\n            className=\"w-8 h-8 text-gray-500 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-200\"\n            onClick={() => {\n              isChatShown ? dispatch(hideChat(id)) : dispatch(showChat(id));\n            }}\n          >\n            {isChatShown ? <HideChatIcon /> : <ShowChatIcon />}\n          </button>\n          <button\n            className=\"w-8 h-8 text-gray-500 hover:text-gray-600 dark:text-gray-300 dark:hover:text-gray-200\"\n            onClick={() => dispatch(removeStreamFromMultiView(id))}\n          >\n            <TrashIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ControlItem;\n","import { useSelector } from 'react-redux';\nimport Modal from '../ui/Modal';\nimport ControlItem from './ControlItem';\n\nfunction ControlModal({ isOpen, toggle }) {\n  const multiViewList = useSelector((state) => state.multiViewReducer);\n  const multiViewLength = multiViewList.length;\n\n  const renderControlList = multiViewList.map(\n    ({ id, channel_id, title, isPlaying, isMuted, isChatShown }) => {\n      return (\n        <ControlItem\n          id={id}\n          channelId={channel_id}\n          title={title}\n          isPlaying={isPlaying}\n          isMuted={isMuted}\n          isChatShown={isChatShown}\n          key={id}\n        />\n      );\n    }\n  );\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle} title=\"控制面版\">\n      {multiViewLength ? renderControlList : '目前沒有選取到影片'}\n    </Modal>\n  );\n}\n\nexport default ControlModal;\n","import { AdjustmentsIcon } from '@heroicons/react/outline';\nimport { useState, useRef } from 'react';\nimport ControlModal from '../ControlModal';\nimport Tooltip from '../../ui/Tooltip';\n\nconst MediaButton = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n  const btnRef = useRef();\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      <button\n        className=\"w-10 h-10\"\n        onClick={() => setIsOpen((prevStatus) => !prevStatus)}\n        onMouseEnter={() => {\n          setIsTooltipShown(true);\n        }}\n        onMouseLeave={() => {\n          setIsTooltipShown(false);\n        }}\n        ref={btnRef}\n      >\n        <AdjustmentsIcon className=\"text-yellow-300 hover:text-yellow-400 rounded-full\" />\n      </button>\n      {isTooltipShown && <Tooltip title=\"開啟控制面版\" parentNode={btnRef} />}\n      <ControlModal isOpen={isOpen} toggle={toggle} />\n    </>\n  );\n};\n\nexport default MediaButton;\n","import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addStreamToMultiView } from '../actions/';\nimport Modal from '../ui/Modal';\nimport Notification from '../ui/Notification';\n\nfunction UrlModal({ isOpen, toggle }) {\n  const [url, setUrl] = useState('');\n  const [isNotificationShown, setIsNotificationShwon] = useState(false);\n  const [notification, setNotificaton] = useState({ title: '', content: '' });\n  const dispatch = useDispatch();\n  const multiViewList = useSelector((state) => state.multiViewReducer);\n\n  useEffect(() => {\n    if (!isOpen) setUrl('');\n  }, [isOpen]);\n\n  const handleOk = () => {\n    const regexp = /https:\\/\\/www\\.youtube\\.com\\/watch\\?v=(\\w+)/;\n    const matched = regexp.exec(url);\n\n    if (!matched) {\n      setNotificaton({ title: '操作失敗', content: 'URL 格式不正確' });\n      setIsNotificationShwon(true);\n      return;\n    }\n\n    if (multiViewList.some((item) => item.id === matched[1])) {\n      setNotificaton({ title: '操作失敗', content: '此 URL 已在播放列表中' });\n      setIsNotificationShwon(true);\n      return;\n    }\n\n    if (multiViewList.length >= 9) {\n      setNotificaton({ title: '操作失敗', content: '已達列表上限' });\n      setIsNotificationShwon(true);\n      return;\n    }\n\n    const stream = {\n      id: matched[1],\n      title: matched[1],\n      room: matched[1],\n    };\n    dispatch(addStreamToMultiView(stream));\n  };\n\n  return (\n    <>\n      <Modal\n        isOpen={isOpen}\n        toggle={toggle}\n        title=\"請輸入欲觀看影片之 Youtube URL link\"\n        onOk={handleOk}\n      >\n        <input\n          type=\"text\"\n          placeholder=\"e.g. https://www.youtube.com/watch?v=5qap5aO4i9A\"\n          className=\"w-full outline-none border-2 dark:border-gray-500 px-2 py-1 dark:bg-gray-700 dark:text-gray-100\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n        />\n      </Modal>\n      {isNotificationShown && (\n        <Notification\n          title={notification.title}\n          content={notification.content}\n          onClose={() => setIsNotificationShwon(false)}\n        />\n      )}\n    </>\n  );\n}\n\nexport default UrlModal;\n","import { useState, useRef } from 'react';\nimport { ViewGridAddIcon } from '@heroicons/react/outline';\nimport Tooltip from '../../ui/Tooltip';\nimport UrlModal from '../UrlModal';\n\nconst AddLinkButton = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isTooltipShown, setIsTooltipShown] = useState(false);\n  const btnRef = useRef();\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      <button\n        className=\"h-10 w-10 text-green-300 hover:text-green-400\"\n        onClick={() => setIsOpen((prevStatus) => !prevStatus)}\n        onMouseEnter={() => {\n          setIsTooltipShown(true);\n        }}\n        onMouseLeave={() => {\n          setIsTooltipShown(false);\n        }}\n        ref={btnRef}\n      >\n        <ViewGridAddIcon />\n      </button>\n      {isTooltipShown && <Tooltip title=\"增加影片\" parentNode={btnRef} />}\n      <UrlModal isOpen={isOpen} toggle={toggle} />\n    </>\n  );\n};\n\nexport default AddLinkButton;\n","import StreamList from '../multiView/StreamList';\nimport MediaButton from '../multiView/control/MediaButton';\nimport AddLinkButton from '../multiView/control/AddLinkButton';\n\nfunction MultiViewHeader() {\n  return (\n    <>\n      {/* stream list */}\n      <div className=\"flex items-center overflow-x-auto no-scrollbar h-full\">\n        <div className=\"flex items-center justify-start\">\n          <StreamList />\n        </div>\n      </div>\n\n      {/* control list */}\n      <div className=\"flex-1 flex justify-end\">\n        <div className=\"flex items-center space-x-2\">\n          <AddLinkButton />\n          <MediaButton />\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MultiViewHeader;\n","import { useState, useEffect } from 'react';\nimport { SunIcon, MoonIcon } from '@heroicons/react/solid';\n\nconst getTheme = () => {\n  const theme = window.localStorage.getItem('theme');\n  return theme === 'dark';\n};\n\nconst ThemeToggle = () => {\n  const [toggle, setToggle] = useState(getTheme());\n\n  const triggerToggle = () => {\n    setToggle(!toggle);\n  };\n\n  useEffect(() => {\n    if (toggle) {\n      document.documentElement.classList.add('dark');\n      window.localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      window.localStorage.setItem('theme', 'light');\n    }\n  }, [toggle]);\n\n  return (\n    <div onClick={() => triggerToggle()} className=\"relative cursor-pointer\">\n      <div className=\"w-12 h-6 rounded-full bg-gray-900\">\n        <div className=\"absolute top-[2px] left-[2px]\">\n          <MoonIcon className=\"w-5 h-5 text-yellow-400\" />\n        </div>\n        <div className=\"absolute top-[2px] right-[2px]\">\n          <SunIcon className=\"w-5 h-5 text-yellow-400\" />\n        </div>\n      </div>\n      <div\n        className={`absolute top-[1px] w-[22px] h-[22px] ${\n          toggle ? 'left-6' : 'left-[1px]'\n        } bg-gray-100 rounded-full duration-200`}\n      ></div>\n    </div>\n  );\n};\n\nexport default ThemeToggle;\n","import {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useLocation,\n} from 'react-router-dom';\nimport { MenuIcon } from '@heroicons/react/outline';\nimport { useState } from 'react';\nimport SideNav from './SideNav';\nimport MultiViewHeader from './MultiViewHeader';\nimport ThemeToggle from '../theme/ThemeToggle';\n\nfunction Navigation() {\n  const [open, setOpen] = useState(false);\n  const location = useLocation();\n\n  const toggle = () => {\n    setOpen((prevState) => !prevState);\n  };\n\n  const renderHeader = () => {\n    switch (location.pathname) {\n      case '/multi-view':\n        return <MultiViewHeader />;\n      default:\n        return (\n          <>\n            <div className=\"text-xl tracking-wide font-bold flex-1\">\n              Holo Viewer\n            </div>\n            <div className=\"space-x-2\">\n              <ThemeToggle />\n            </div>\n          </>\n        );\n    }\n  };\n\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route></Route>\n        </Switch>\n      </Router>\n      <header className=\"h-14 w-full flex items-center bg-gray-400/90 dark:bg-gray-700/90 dark:text-gray-100 sticky top-0 z-10 backdrop-blur-sm px-4 space-x-4\">\n        <button onClick={toggle} className=\"w-6 h-6 flex-shrink-0\">\n          <MenuIcon />\n        </button>\n        {renderHeader()}\n      </header>\n      <SideNav open={open} toggle={toggle} />\n    </>\n  );\n}\n\nexport default Navigation;\n","import Header from './Header';\n\nfunction Layout(props) {\n  return (\n    <>\n      <Header />\n      <main>{props.children}</main>\n    </>\n  );\n}\n\nexport default Layout;\n","import dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport duration from 'dayjs/plugin/duration';\nimport { useEffect, useState } from 'react';\ndayjs.extend(relativeTime);\ndayjs.extend(duration);\n\nfunction getDuration(startAt) {\n  const now = dayjs();\n  const duration = dayjs.duration(now.diff(dayjs(startAt)));\n\n  return duration.format('HH:mm:ss');\n}\n\nfunction StreamChip({ stream }) {\n  const { start_at: startAt } = stream;\n  const [duration, setDuration] = useState(() => getDuration(startAt));\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      setDuration(getDuration(startAt));\n    }, 1000);\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [startAt]);\n\n  return (\n    <span className=\"absolute bottom-2 right-2 text-white font-bold tracking-wide bg-red-600/90 px-2 py-0 rounded-sm\">\n      {duration}\n    </span>\n  );\n}\n\nexport default StreamChip;\n","import dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport 'dayjs/locale/zh-tw';\nimport StreamChip from './StreamChip';\nimport useMemberMapping from '../hooks/useMemberMapping';\ndayjs.extend(relativeTime);\ndayjs.locale('zh-tw');\n\nfunction StreamItem({ stream }) {\n  const member = useMemberMapping(stream.channel_id);\n\n  const renderTimeFromNow = () => {\n    const startTime = dayjs(stream.start_at).format('HH:mm');\n    const timeFromNow = dayjs(stream.start_at).fromNow();\n\n    return (\n      <p className=\"text-sm\">\n        將於 {timeFromNow}開始 ({startTime})\n      </p>\n    );\n  };\n\n  return (\n    <a\n      href={`https://www.youtube.com/watch?v=${stream.room}`}\n      target=\"_blank\"\n      rel=\"noreferrer noopener\"\n    >\n      <div\n        key={stream.id}\n        className=\"w-full shadow bg-white dark:bg-gray-700 dark:text-gray-100 rounded-lg overflow-hidden\"\n      >\n        <div className=\"relative pt-[56.25%]\">\n          <img\n            className=\"absolute top-0 left-0 w-full h-full object-contain\"\n            src={stream.cover}\n            alt={stream.title}\n          />\n          {stream.status === 'live' && <StreamChip stream={stream} />}\n        </div>\n        <div className=\"flex items-center h-[80px]\">\n          {/* avatar */}\n          <div className=\"w-[50px] rounded-full overflow-hidden ml-2 mr-4\">\n            <img src={member?.avatar} alt=\"avator\" />\n          </div>\n          {/* text */}\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-lg text-left tracking-wide text-i truncate\">\n              {stream.title}\n            </p>\n            <p className=\"pt-1\">{member?.name}</p>\n            {stream.status === 'scheduled' && renderTimeFromNow()}\n          </div>\n        </div>\n      </div>\n    </a>\n  );\n}\n\nexport default StreamItem;\n","const SkeletonItem = () => {\n  return (\n    <div className=\"w-full shadow bg-white dark:bg-gray-700 overflow-hidden rounded-lg animate-pulse\">\n      <div className=\"relative pt-[56.25%] bg-gray-300 dark:bg-gray-500\"></div>\n      <div className=\"flex items-center h-[80px]\">\n        <div className=\"w-[50px] h-[50px] rounded-full ml-2 mr-4 bg-gray-300 dark:bg-gray-500\"></div>\n        <div className=\"flex-1 space-y-4\">\n          <div className=\"w-2/3 h-[20px] bg-gray-300 dark:bg-gray-500 rounded-lg\"></div>\n          <div className=\"w-1/3 h-[20px] bg-gray-300 dark:bg-gray-500 rounded-lg\"></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SkeletonItem;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport dayjs from 'dayjs';\nimport StreamItem from './StreamItem';\nimport SkeletonItem from './SkeletonItem';\nimport {\n  fetchLiveStream,\n  fetchScheduledStream,\n  fetchChannel,\n  fetchMember,\n} from '../actions/';\n\nfunction StreamList() {\n  const dispatch = useDispatch();\n  const liveStream = useSelector((state) => state.streamReducer.liveStream);\n  const scheduledStream = useSelector(\n    (state) => state.streamReducer.scheduledStream\n  );\n\n  useEffect(() => {\n    dispatch(fetchLiveStream());\n    dispatch(fetchScheduledStream());\n    dispatch(fetchChannel());\n    dispatch(fetchMember());\n  }, [dispatch]);\n\n  const renderLiveStreamItem = () => {\n    if (liveStream.isLoading) {\n      return renderLoadingSkeleton();\n    }\n\n    return liveStream.items.length === 0\n      ? 'There is no live stream now'\n      : liveStream.items.map((stream) => {\n          return <StreamItem key={stream.id} stream={stream} />;\n        });\n  };\n\n  const renderScheduledStreamItem = () => {\n    if (scheduledStream.isLoading) {\n      return renderLoadingSkeleton();\n    }\n\n    return scheduledStream.items.length === 0\n      ? 'There is no scheduled stream now'\n      : scheduledStream.items\n          .filter((stream) => {\n            // 只顯示預定將於 24 小時之內開始之直播\n            return dayjs(stream.start_at).isBefore(dayjs().add(1, 'day'));\n          })\n          .map((stream) => {\n            return <StreamItem key={stream.id} stream={stream} />;\n          });\n  };\n\n  const renderLoadingSkeleton = () => {\n    return Array(5)\n      .fill()\n      .map((item, index) => {\n        return <SkeletonItem key={index} />;\n      });\n  };\n\n  return (\n    <div className=\"p-4 min-h-screen bg-gray-100 dark:bg-gray-800\">\n      <div>\n        <p className=\"text-lg font-bold text-green-600 dark:text-green-300 mb-5\">\n          直播中\n        </p>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2\">\n          {renderLiveStreamItem()}\n        </div>\n      </div>\n      <div className=\"mt-6\">\n        <p className=\"text-lg font-bold text-green-600 dark:text-green-300 mb-5\">\n          預定直播\n        </p>\n        <div className=\"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2\">\n          {renderScheduledStreamItem()}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StreamList;\n","const Spin = () => {\n  return (\n    <svg\n      className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n    >\n      <circle\n        className=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      ></circle>\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      ></path>\n    </svg>\n  );\n};\n\nexport default Spin;\n","import { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport YoutubePlayer from 'youtube-player';\nimport { playVideo, pauseVideo } from '../actions';\nimport Spin from '../ui/Spin';\n\nconst stateMapping = {\n  playing: 1,\n  paused: 2,\n};\n\nfunction StreamIframeWrapper({ stream }) {\n  const dispatch = useDispatch();\n  const { id, room, isPlaying, isMuted, isChatShown } = stream;\n  const [player, setPlayer] = useState(null);\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    let player = YoutubePlayer(`player-${id}`, {\n      width: '100%',\n      height: '100%',\n      videoId: room,\n      playerVars: {\n        playsinline: 1,\n      },\n    });\n    setPlayer(player);\n\n    const listener = player.on('stateChange', (event) => {\n      if (event.data === stateMapping['playing']) {\n        dispatch(playVideo(id));\n      } else if (event.data === stateMapping['paused']) {\n        dispatch(pauseVideo(id));\n      }\n    });\n\n    player.on('ready', () => setIsReady(true));\n\n    return () => player.off(listener);\n  }, [id, room, dispatch]);\n\n  useEffect(() => {\n    if (!player) return;\n\n    if (isPlaying) {\n      player.playVideo();\n    } else {\n      player.pauseVideo();\n    }\n  }, [player, isPlaying]);\n\n  useEffect(() => {\n    if (!player) return;\n\n    if (isMuted) {\n      player.mute();\n    } else {\n      player.unMute();\n    }\n  }, [player, isMuted]);\n\n  const chatRoomIframeSrc = `https://gaming.youtube.com/live_chat?v=${stream.room}&embed_domain=${window.location.hostname}`;\n\n  const renderLoading = () => {\n    return (\n      <div className=\"absolute top-0 left-0 w-full h-full bg-black text-white flex justify-center items-center\">\n        <Spin />\n        Loading...\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col lg:flex-row bg-black\">\n      {/* video */}\n      <div className=\"relative pt-[56.25%] lg:pt-0 lg:flex-1\">\n        {!isReady && renderLoading()}\n        <div\n          className=\"absolute top-0 left-0 w-full h-full\"\n          id={`player-${stream.id}`}\n        ></div>\n      </div>\n\n      {/* chat */}\n      <div\n        className={`w-full lg:w-[300px] h-[400px] lg:h-full ${\n          !isChatShown && 'hidden'\n        }`}\n      >\n        <iframe\n          title=\"chatRoom\"\n          src={chatRoomIframeSrc}\n          width=\"100%\"\n          height=\"100%\"\n          frameBorder=\"0\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default StreamIframeWrapper;\n","import { useSelector } from 'react-redux';\nimport StreamIframeWrapper from './StreamIframeWrapper';\n\nconst gridStyle = {\n  1: 'lg:grid-cols-1',\n  2: 'lg:grid-cols-2',\n  3: 'lg:grid-cols-2',\n  4: 'lg:grid-cols-2',\n  5: 'lg:grid-cols-3',\n  6: 'lg:grid-cols-3',\n  7: 'lg:grid-cols-3',\n  8: 'lg:grid-cols-3',\n  9: 'lg:grid-cols-3',\n};\n\nfunction MultiViewIndex() {\n  const multiViewList = useSelector((state) => state.multiViewReducer);\n  const multiViewLength = multiViewList.length;\n\n  const renderIframeWrapper = () => {\n    if (multiViewLength >= 0) {\n      return multiViewList.map((stream) => {\n        return <StreamIframeWrapper key={stream.id} stream={stream} />;\n      });\n    }\n  };\n\n  return (\n    <div\n      className={`min-h-[calc(100vh-56px)] lg:grid lg:grid-flow-row dark:bg-gray-800 ${\n        multiViewLength && gridStyle[multiViewLength]\n      }`}\n    >\n      {renderIframeWrapper()}\n    </div>\n  );\n}\n\nexport default MultiViewIndex;\n","import { useEffect } from 'react';\nimport { createHashHistory } from 'history';\nimport ReactGA from 'react-ga';\n\nconst useTracking = () => {\n  useEffect(() => {\n    const history = createHashHistory();\n    ReactGA.initialize('UA-154394704-1');\n\n    let unlisten = history.listen((location) => {\n      ReactGA.pageview(location.pathname);\n    });\n\n    return () => unlisten();\n  }, []);\n};\n\nexport default useTracking;\n","import { HashRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Layout from './layout/Layout';\nimport StreamList from './stream/StreamList';\nimport MultiViewIndex from './multiView';\nimport useTracking from './hooks/useTracking';\n\nconst theme = window.localStorage.getItem('theme');\nif (theme === 'dark') {\n  document.documentElement.classList.add('dark');\n}\n\nfunction App() {\n  useTracking();\n\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          <Route path=\"/\" exact component={StreamList}></Route>\n          <Route path=\"/multi-view\" exact component={MultiViewIndex}></Route>\n        </Switch>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n  REQUEST_LIVE_STREAM,\n  RECEIVE_LIVE_STREAM,\n  REQUEST_SCHEDULED_STREAM,\n  RECEIVE_SCHEDULED_STREAM,\n  FETCH_CHANNEL,\n  FETCH_MEMBER,\n} from '../actions/types';\n\nconst INITAL_STATE = {\n  liveStream: {\n    isLoading: false,\n    items: [],\n  },\n  scheduledStream: {\n    isLoading: false,\n    items: [],\n  },\n  channel: [],\n  member: [],\n};\n\nconst streamReducer = (state = INITAL_STATE, action) => {\n  switch (action.type) {\n    case REQUEST_LIVE_STREAM:\n      return { ...state, liveStream: { ...state.liveStream, isLoading: true } };\n    case RECEIVE_LIVE_STREAM:\n      return {\n        ...state,\n        liveStream: { items: action.payload, isLoading: false },\n      };\n    case REQUEST_SCHEDULED_STREAM:\n      return {\n        ...state,\n        scheduledStream: { ...state.scheduledStream, isLoading: true },\n      };\n    case RECEIVE_SCHEDULED_STREAM:\n      return {\n        ...state,\n        scheduledStream: {\n          items: action.payload,\n          isLoading: false,\n        },\n      };\n    case FETCH_CHANNEL:\n      return { ...state, channel: action.payload };\n    case FETCH_MEMBER:\n      return { ...state, member: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default streamReducer;\n","import {\n  ADD_STREAM_TO_MULTI_VIEW,\n  REMOVE_STREAM_FROM_MULTI_VIEW,\n  CHANGE_STATUS_TO_PLAY,\n  CHANGE_STATUS_TO_PAUSE,\n  CHANGE_STATUS_TO_MUTE,\n  CHANGE_STATUS_TO_UNMUTE,\n  SHOW_CHAT,\n  HIDE_CHAT,\n} from '../actions/types';\n\nconst multiViewReducer = (state = [], action) => {\n  switch (action.type) {\n    case ADD_STREAM_TO_MULTI_VIEW:\n      return [\n        ...state,\n        {\n          ...action.payload,\n          isChatShown: true,\n          isPlaying: false,\n          isMuted: false,\n        },\n      ];\n    case REMOVE_STREAM_FROM_MULTI_VIEW:\n      return [...state].filter((stream) => {\n        return stream.id !== action.payload;\n      });\n    case CHANGE_STATUS_TO_PLAY:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isPlaying = true;\n\n        return stream;\n      });\n    case CHANGE_STATUS_TO_PAUSE:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isPlaying = false;\n\n        return stream;\n      });\n    case CHANGE_STATUS_TO_MUTE:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isMuted = true;\n\n        return stream;\n      });\n    case CHANGE_STATUS_TO_UNMUTE:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isMuted = false;\n\n        return stream;\n      });\n    case SHOW_CHAT:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isChatShown = true;\n\n        return stream;\n      });\n    case HIDE_CHAT:\n      return state.map((stream) => {\n        if (stream.id === action.payload) stream.isChatShown = false;\n\n        return stream;\n      });\n    default:\n      return state;\n  }\n};\n\nexport default multiViewReducer;\n","import { combineReducers } from 'redux';\nimport streamReducer from './streamReducer';\nimport multiViewReducer from './multiViewReducer';\n\nexport default combineReducers({\n  streamReducer,\n  multiViewReducer,\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}